<script>
    /**
    console.log(1);
    fetch('https://jsonplaceholder.typicode.com/posts/1')
    .then(function(response) {
        return response.json();
    })
    .then(function(myJson) {
        console.log(myJson);
    });
    console.log(2);


    var fetched =  fetch('https://jsonplaceholder.typicode.com/posts/1');
    console.log(fetched);
    fetched.then(function(result){
        console.log(result);
    }); 
    fetched.catch(function(reason){ 
        console.log(reason);
    }); 
    **/

    // response.json() : response가 json 타입이니, 자바스크립트 데이터 타입으로 컨버팅하라는 promise. 
    // promise 객체이니 이 작업이 끝나면 then을 호출한다. 

    // nesting 방식
    fetch('https://jsonplaceholder.typicode.com/posts/1')
    .then(function(response){ 
        response.json().then(function(data){
            console.log('data', data);
        });
    })
    .catch(function(reason){ 
        console.log(reason);
    });

    // chaining 방식
    fetch('https://jsonplaceholder.typicode.com/posts/1')
    .then(function(response){ 
        return response.json(); // promise를 리턴한다
    })
    .catch(function(reason){ 
        console.log(reason);
    })
    .then(function(data){
        console.log('data', data);
    });
</script>